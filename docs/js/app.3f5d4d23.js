(function(t){function e(e){for(var a,s,o=e[0],c=e[1],u=e[2],f=0,d=[];f<o.length;f++)s=o[f],i[s]&&d.push(i[s][0]),i[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);l&&l(e);while(d.length)d.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,o=1;o<n.length;o++){var c=n[o];0!==i[c]&&(a=!1)}a&&(r.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},i={1:0},r=[];function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/cv_playground/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;r.push([5,0]),n()})({5:function(t,e,n){t.exports=n("Vtdi")},BzlA:function(t,e,n){},EDI0:function(t,e,n){},HiD8:function(t,e,n){},QxPH:function(t,e,n){"use strict";var a=n("Y9Uf"),i=n.n(a);i.a},SLnK:function(t,e,n){"use strict";var a=n("BzlA"),i=n.n(a);i.a},Vtdi:function(t,e,n){"use strict";n.r(e);n("VRzm");var a=n("Kw5r"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Header"),n("Widget",{attrs:{initialItems:1}})],1)},r=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header"},[t._m(0),n("div",{staticClass:"run",attrs:{title:"Execute"},on:{click:t.run}},[t.isRunning?n("font-awesome-icon",{attrs:{icon:["fas","pause"]}}):n("font-awesome-icon",{attrs:{icon:["fas","play"]}})],1)])},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h1",[t._v("Computer Vision Playground "),n("span",[t._v("JS")])])}],c=n("elWB"),u=n.n(c),l=new a["a"],f={name:"Header",components:{FontAwesomeIcon:u.a},data:function(){return{isRunning:!1}},created:function(){var t=this;l.$on("running",function(e){t.isRunning=e})},methods:{run:function(){this.isRunning=!this.isRunning,l.$emit("running",this.isRunning)}}},d=f,h=(n("QxPH"),n("KHd+")),g=Object(h["a"])(d,s,o,!1,null,"ad5eb5f6",null),m=g.exports,p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"widget"},[n("div",{staticClass:"items"},[t._l(t.items,function(t){return n("Item",{key:t})}),n("div",{staticClass:"item insert",on:{click:function(e){t.items+=1}}},[n("font-awesome-icon",{attrs:{icon:["fal","plus-circle"]}})],1)],2)])},v=[],w=(n("xfY5"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"item"},[n("div",{staticClass:"image",on:{click:function(e){t.$refs.upload.click()}}},[n("div",{staticClass:"overlay"},[n("font-awesome-icon",{attrs:{icon:["fal","image"]}})],1),n("canvas",{ref:"canvas"})]),n("div",{staticClass:"options"},[n("input",{ref:"upload",attrs:{type:"file",name:"file",id:"file",accept:".jpg, .jpeg, .png"},on:{change:t.uploadImage}}),n("div",{staticClass:"selects"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedFilter,expression:"selectedFilter"}],attrs:{name:"filter",id:"filter"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.selectedFilter=e.target.multiple?n:n[0]}}},t._l(t.filters,function(e){return n("option",{key:e},[t._v("\n          "+t._s(e)+"\n        ")])}))]),n("button",{staticClass:"reset",on:{click:t.resetImage}},[t._v("Reset")]),n("button",{staticClass:"settings"},[n("font-awesome-icon",{attrs:{icon:["fas","cog"]}})],1)])])}),b=[],y=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mean",e=this.getImageData(),n=0;n<e.length;n+=4){var a=e[n],i=e[n+1],r=e[n+2],s=0;switch(t){case"mean":s=I(a,i,r);break;case"luminance":s=_(a,i,r);break;case"luma":s=x(a,i,r);break}e[n]=e[n+1]=e[n+2]=s}return e},I=function(t,e,n){return 1/3*(t+e+n)},_=function(t,e,n){return.3*t+.59*e+.11*n},x=function(t,e,n){return.2126*t+.7152*e+.0722*n},k=function(t){for(var e=this.getImageData(),n=0;n<e.length;n+=4){var a=e[n],i=e[n+1],r=e[n+2],s=.2126*a+.7152*i+.0722*r>=t?255:0;e[n]=e[n+1]=e[n+2]=s}return e},C=function(t){for(var e=new $(this.canvas).grayscale(),n=[[-1,0,1],[-2,0,2],[-1,0,1]],a=[[-1,-2,-1],[0,0,0],[1,2,1]],i=1;i<this.height-1;i++)for(var r=1;r<this.width-1;r++){var s=O(e,n,this.width,r,i),o=O(e,a,this.width,r,i),c=j(r,i,this.width),u=Math.sqrt(s*s+o*o);e[c]=e[c+1]=e[c+2]=u>=t?255:0}return e},j=function(t,e,n){return 4*(e*n+t)};function D(t,e,n,a){return t[j(n,a,e)]}function O(t,e,n,a,i){var r=D(t,n,a-1,i-1)*e[0][0]+D(t,n,a,i-1)*e[0][1]+D(t,n,a+1,i-1)*e[0][2]+D(t,n,a-1,i)*e[1][0]+D(t,n,a,i)*e[1][1]+D(t,n,a+1,i)*e[1][2]+D(t,n,a-1,i+1)*e[2][0]+D(t,n,a,i+1)*e[2][1]+D(t,n,a+1,i+1)*e[2][2];return r}function $(t){this.canvas=t,this.context=t.getContext("2d"),this.width=t.width,this.height=t.height}$.prototype.getImageData=function(){return this.context.getImageData(0,0,this.canvas.width,this.canvas.height).data},$.prototype.grayscale=y,$.prototype.threshold=k,$.prototype.sobel=C;var S={name:"Item",components:{FontAwesomeIcon:u.a},data:function(){return{selectedFilter:"Grayscale",method:"Main Thread",image:{src:"image.jpg",width:null,height:null},filters:["Grayscale","Threshold","Sobel"]}},created:function(){l.$on("running",this.execute)},mounted:function(){this.drawImage(this.image.src)},methods:{drawImage:function(t){var e=this,n=new Image;n.src=t,n.onload=function(){e.image.width=n.width,e.image.height=n.height;var t=e.setCanvas(n);t.drawImage(n,0,0,n.width,n.height)}},resetImage:function(){this.drawImage(this.image.src)},uploadImage:function(t){var e=this,n=t.target.files;if(n&&n[0]){var a=new FileReader;a.onload=function(t){e.image.src=t.target.result,e.drawImage(e.image.src)},a.readAsDataURL(n[0])}},setCanvas:function(t){var e=this.$refs.canvas,n=e.getContext("2d");return e.width=t.width,e.height=t.height,n},execute:function(t){t&&this.filterImage(this.selectedFilter)},filterImage:function(t){var e,n=this.$refs.canvas,a=n.getContext("2d"),i=a.getImageData(0,0,this.image.width,this.image.height),r=new $(n);switch(t){case"Grayscale":e=r.grayscale("luma");break;case"Threshold":e=r.threshold(200);break;case"Sobel":e=r.sobel(125);break;default:e=i;break}i.data.set(e,0),a.putImageData(i,0,0),l.$emit("running",!1)}}},R=S,F=(n("X7kS"),Object(h["a"])(R,w,b,!1,null,null,null)),P=F.exports,A={name:"Widget",components:{Item:P,FontAwesomeIcon:u.a},props:{initialItems:Number},data:function(){return{items:this.initialItems}}},E=A,H=(n("SLnK"),Object(h["a"])(E,p,v,!1,null,"64ad72fc",null)),T=H.exports,K=n("y1tp"),M=n("T+kD"),L=n.n(M),U=n("cXXa"),V=n.n(U),W=n("A6sR"),X=n.n(W),z=n("nUQ9"),B=n.n(z),G=n("sKDK"),J=n.n(G);K["default"].library.add(L.a,V.a,X.a,B.a,J.a);var Q={name:"app",components:{Header:m,Widget:T}},Y=Q,N=(n("ZL7j"),Object(h["a"])(Y,i,r,!1,null,null,null)),Z=N.exports;a["a"].config.productionTip=!1,new a["a"]({render:function(t){return t(Z)}}).$mount("#app")},X7kS:function(t,e,n){"use strict";var a=n("HiD8"),i=n.n(a);i.a},Y9Uf:function(t,e,n){},ZL7j:function(t,e,n){"use strict";var a=n("EDI0"),i=n.n(a);i.a}});
//# sourceMappingURL=app.3f5d4d23.js.map